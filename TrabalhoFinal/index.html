<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpeedMed - Gerenciamento Clínico</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <div class="header-content">
            <h1>SpeedMed</h1>
        </div>
    </header>

    <main class="container">
        <section id="home-section" class="content-section active">
            <h2>Escolha uma Opção para Gerenciar</h2>
            <div class="main-menu-grid">
                <button class="menu-card" data-target="agendamentos-section">
                    <h3>Agendamentos</h3>
                    <p>Gerencie horários e status de consultas.</p>
                </button>
                <button class="menu-card" data-target="consultas-section">
                    <h3>Consultas</h3>
                    <p>Registre diagnósticos e observações médicas.</p>
                </button>
                <button class="menu-card" data-target="encaminhamentos-section">
                    <h3>Encaminhamentos</h3>
                    <p>Crie e visualize encaminhamentos para exames ou novas consultas.</p>
                </button>
                <button class="menu-card" data-target="medicos-section">
                    <h3>Médicos</h3>
                    <p>Cadastre e gerencie informações dos profissionais.</p>
                </button>
                <button class="menu-card" data-target="pacientes-section">
                    <h3>Pacientes</h3>
                    <p>Mantenha o cadastro e contatos dos pacientes.</p>
                </button>
                <button class="menu-card" data-target="remarcas-section">
                    <h3>Retornos</h3>
                    <p>Visualize o histórico de retornos.</p>
                </button>
                <button class="menu-card" data-target="relatorios-section">
                    <h3>Relatórios</h3>
                    <p>Acesse análises e estatísticas do sistema.</p>
                </button>
            </div>
        </section>

        <section id="agendamentos-section" class="content-section">
            <h2>Gerenciar Agendamentos</h2>
            <div class="content-wrapper">
                <form id="agendamento-form" class="form-container">
                    <h3 id="agendamento-form-title">Novo Agendamento</h3>
                    <input type="hidden" id="agendamento_id">
                    <div class="form-group">
                        <label for="ag_id_paciente">ID do Paciente</label>
                        <input type="number" id="ag_id_paciente" required>
                    </div>
                    <div class="form-group">
                        <label for="ag_data_hora">Data e Hora</label>
                        <input type="datetime-local" id="ag_data_hora" required>
                    </div>
                    <div class="form-group">
                        <label for="ag_observacoes">Observações</label>
                        <textarea id="ag_observacoes" rows="3"></textarea>
                    </div>
                    <div class="form-group" id="ag_status_group" style="display: none;">
                        <label for="ag_status">Status</label>
                        <select id="ag_status">
                            <option value="Marcada">Marcado</option>
                            <option value="Remarcada">Remarcado</option>
                            <option value="Cancelada">Cancelado</option>
                            <option value="Ausente">Ausente</option>
                            <option value="Realizada">Realizado</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button type="submit">Salvar Agendamento</button>
                        <button type="button" id="cancel-ag-edit-btn" class="cancel-btn" style="display: none;">Cancelar Edição</button>
                    </div>
                </form>
                <div class="list-container">
                    <h3>Agendamentos Atuais</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>ID Agendamento</th>
                                <th>ID Paciente</th>
                                <th>Data/Hora</th>
                                <th>Status</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="agendamentos-tbody"></tbody>
                    </table>
                </div>
            <button class="back-to-home-btn">Voltar ao Menu Principal</button>
        </section>

        <section id="consultas-section" class="content-section">
            <h2>Gerenciar Consultas</h2>
            <div class="content-wrapper">
                <form id="consulta-form" class="form-container">
                    <h3 id="consulta-form-title">Nova Consulta</h3>
                    <input type="hidden" id="consulta_id">
                    <div class="form-group">
                        <label for="con_id_agendamento">ID do Agendamento</label>
                        <input type="number" id="con_id_agendamento" required>
                    </div>
                    <div class="form-group">
                        <label for="con_crm">CRM do Médico</label>
                        <input type="text" id="con_crm" required>
                    </div>
                    <div class="form-group">
                        <label for="con_id_paciente">ID do Paciente</label>
                        <input type="number" id="con_id_paciente" required>
                    </div>
                    <div class="form-group">
                        <label for="con_data_hora">Data e Hora da Consulta</label>
                        <input type="datetime-local" id="con_data_hora" required>
                    </div>
                    <div class="form-group">
                        <label for="con_diagnostico">Diagnóstico</label>
                        <textarea id="con_diagnostico" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="con_observacoes">Observações</label>
                        <textarea id="con_observacoes" rows="3"></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="submit">Salvar Consulta</button>
                        <button type="button" id="cancel-con-edit-btn" class="cancel-btn" style="display: none;">Cancelar Edição</button>
                    </div>
                </form>
                <div class="list-container">
                    <h3>Consultas Registradas</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>ID Agend.</th>
                                <th>CRM</th>
                                <th>ID Pac.</th>
                                <th>Data_Hora</th>
                                <th>Diagnóstico</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="consultas-tbody"></tbody>
                    </table>
                </div>

            <button class="back-to-home-btn">Voltar ao Menu Principal</button>
        </section>

        <section id="encaminhamentos-section" class="content-section">
            <h2>Gerenciar Encaminhamentos</h2>
            <div class="content-wrapper">
                <form id="encaminhamento-form" class="form-container">
                    <h3>Novo Encaminhamento</h3>
                    <div class="form-group">
                        <label for="enc_id_consulta">ID do Agendamento de Origem</label>
                        <input type="number" id="enc_id_consulta" required>
                    </div>
                    <div class="form-group">
                        <label for="enc_id_paciente_origem">ID do Paciente de Origem</label>
                        <input type="number" id="enc_id_paciente_origem" required>
                    </div>
                    <div class="form-group">
                        <label for="enc_tipo">Tipo de Encaminhamento</label>
                        <select id="enc_tipo" required>
                            <option value="">Selecione...</option>
                            <option value="Exame">Exame</option>
                            <option value="Consulta">Consulta</option>
                            <option value="Ambos">Ambos</option>
                        </select>
                    </div>
                    <div id="enc-exames-group" class="form-group" style="display: none;">
                        <label for="enc_exames_ids">IDs dos Exames (separados por vírgula)</label>
                        <input type="text" id="enc_exames_ids" placeholder="Ex: 1, 5, 12">
                    </div>
                    <div id="enc-agendamento-group" class="form-group" style="display: none;">
                        <label for="enc_novo_agendamento_id">ID do Novo Agendamento</label>
                        <input type="number" id="enc_novo_agendamento_id">
                        <label for="enc_novo_paciente_id">ID do Novo Paciente (para nova consulta)</label>
                        <input type="number" id="enc_novo_paciente_id">
                    </div>
                    <div class="form-group">
                        <label for="enc_observacoes">Observações</label>
                        <textarea id="enc_observacoes" rows="3"></textarea>
                    </div>
                    <button type="submit">Criar Encaminhamento</button>
                </form>
                <div class="list-container">
                    <h3>Visualizar Encaminhamento</h3>
                    <div class="lookup-form">
                        <input type="number" id="lookup-enc-id" placeholder="Digite o ID do Encaminhamento">
                        <button id="lookup-enc-btn">Buscar</button>
                    </div>
                    <div id="encaminhamento-details" class="details-box"></div>
                </div>
            </div>
            <button class="back-to-home-btn">Voltar ao Menu Principal</button>
        </section>

        <section id="medicos-section" class="content-section">
            <h2>Gerenciar Médicos</h2>
            <div class="content-wrapper">
                <form id="medico-form" class="form-container">
                    <h3 id="medico-form-title">Novo Médico</h3>
                    <input type="hidden" id="medico_crm_original">
                    <div class="form-group">
                        <label for="med_crm">CRM</label>
                        <input type="text" id="med_crm" required>
                    </div>
                    <div class="form-group">
                        <label for="med_nome">Nome</label>
                        <input type="text" id="med_nome" required>
                    </div>
                    <div class="form-group">
                        <label for="med_especialidade">Especialidade</label>
                        <input type="text" id="med_especialidade" required>
                    </div>
                    <div class="form-actions">
                        <button type="submit">Salvar Médico</button>
                        <button type="button" id="cancel-med-edit-btn" class="cancel-btn" style="display: none;">Cancelar Edição</button>
                    </div>
                </form>
                <div class="list-container">
                    <h3>Médicos Cadastrados</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>CRM</th>
                                <th>Nome</th>
                                <th>Especialidade</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="medicos-tbody"></tbody>
                    </table>
                </div>
            <button class="back-to-home-btn">Voltar ao Menu Principal</button>
        </section>

        <section id="pacientes-section" class="content-section">
            <h2>Gerenciar Pacientes</h2>
            <div class="content-wrapper">
                <form id="paciente-form" class="form-container">
                    <h3 id="paciente-form-title">Novo Paciente</h3>
                    <input type="hidden" id="paciente_id_original">
                    <div class="form-group">
                        <label for="pac_nome">Nome</label>
                        <input type="text" id="pac_nome" required>
                    </div>
                    <div class="form-group">
                        <label for="pac_data_nascimento">Data de Nascimento</label>
                        <input type="date" id="pac_data_nascimento" required>
                    </div>
                    <div class="form-group">
                        <label for="pac_sexo">Sexo</label>
                        <select id="pac_sexo" required>
                            <option value="">Selecione...</option>
                            <option value="F">Feminino</option>
                            <option value="M">Masculino</option>
                            <option value="O">Outro</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="pac_email">Email</label>
                        <input type="email" id="pac_email">
                    </div>
                    <div class="form-group">
                        <label for="pac_cpf">CPF</label>
                        <input type="text" id="pac_cpf" required>
                    </div>
                    <div id="pac_telefones_group" class="form-group">
                        <label>Telefones</label>
                        <div id="pac_telefones_container">
                        </div>
                        <button type="button" id="add_telefone_btn" class="add-item-btn">Adicionar Telefone</button>
                    </div>
                    <div class="form-actions">
                        <button type="submit">Salvar Paciente</button>
                        <button type="button" id="cancel-pac-edit-btn" class="cancel-btn" style="display: none;">Cancelar Edição</button>
                    </div>
                </form>
                <div class="list-container">
                    <h3>Pacientes Cadastrados</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nome</th>
                                <th>Nascimento</th>
                                <th>Sexo</th>
                                <th>Email</th>
                                <th>CPF</th>
                                <th>Telefones</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="pacientes-tbody"></tbody>
                    </table>
                </div>
            <button class="back-to-home-btn">Voltar ao Menu Principal</button>
        </section>

        <section id="remarcas-section" class="content-section">
            <h2>Registrar Retornos</h2>
            <div class="content-wrapper">
                <form id="remarca-form" class="form-container">
                    <h3>Novo Retorno</h3>
                    <div class="form-group">
                        <label for="rem_antigo_ag_id">ID Agendamento Antigo</label>
                        <input type="number" id="rem_antigo_ag_id" required>
                    </div>
                    <div class="form-group">
                        <label for="rem_antigo_pac_id">ID Paciente Antigo</label>
                        <input type="number" id="rem_antigo_pac_id" required>
                    </div>
                    <div class="form-group">
                        <label for="rem_novo_ag_id">ID Agendamento Novo</label>
                        <input type="number" id="rem_novo_ag_id" required>
                    </div>
                    <div class="form-group">
                        <label for="rem_novo_pac_id">ID Paciente Novo</label>
                        <input type="number" id="rem_novo_pac_id" required>
                    </div>
                    <div class="form-group">
                        <label for="rem_motivo">Motivo</label>
                        <textarea id="rem_motivo" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="rem_data_remarcacao">Data do Retorno</label>
                        <input type="date" id="rem_data_remarcacao" required>
                    </div>
                    <div class="form-group">
                        <label for="rem_quem_solicitou">Quem Solicitou</label>
                        <input type="text" id="rem_quem_solicitou">
                    </div>
                    <div class="form-actions">
                        <button type="submit">Registrar Retorno</button>
                    </div>
                </form>
                <div class="list-container">
                    <h3>Histórico de Retornos</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>ID Retorno</th>
                                <th>Antigo Agend. (ID / Paciente)</th>
                                <th>Novo Agend. (ID / Paciente)</th>
                                <th>Motivo</th>
                                <th>Data de Retorno</th>
                                <th>Solicitação</th>
                            </tr>
                        </thead>
                        <tbody id="remarcas-tbody"></tbody>
                    </table>
                </div>
            <button class="back-to-home-btn">Voltar ao Menu Principal</button>
        </section>

        <section id="relatorios-section" class="content-section">
            <h2>Relatórios e Análises</h2>
            <div class="content-wrapper">
                <div class="report-card">
                    <h3>Agendamentos por Status</h3>
                    <div id="report-agendamentos-status" class="report-data"></div>
                </div>
                <div class="report-card">
                    <h3>Médicos e Total de Consultas</h3>
                    <div id="report-medicos-consultas" class="report-data"></div>
                </div>
                <div class="report-card">
                    <h3>Encaminhamentos por Tipo</h3>
                    <div id="report-encaminhamentos-tipo" class="report-data"></div>
                </div>
                 <div class="report-card">
                    <h3>Pacientes da Cardiologia</h3>
                    <div id="report-pacientes-cardiologia" class="report-data"></div>
                </div>
                <div class="report-card">
                    <h3>Categorização de Pacientes</h3>
                    <div id="report-categoria-paciente" class="report-data"></div>
                </div>
                <div class="report-card">
                    <h3>Último Agendamento por Paciente</h3>
                    <div id="report-ultimo-agendamento" class="report-data"></div>
                </div>
                 <div class="report-card">
                    <h3>Consultas e Encaminhamentos</h3>
                    <div id="report-consultas-encaminhamentos" class="report-data"></div>
                </div>
                <div class="report-card">
                    <h3>Exames e Consultas por Paciente</h3>
                    <div id="report-exames-consultas-paciente" class="report-data"></div>
                </div>
            </div>
            <button class="back-to-home-btn">Voltar ao Menu Principal</button>
        </section>
    </main>

    <script src="script.js"></script>
</body>
</html>